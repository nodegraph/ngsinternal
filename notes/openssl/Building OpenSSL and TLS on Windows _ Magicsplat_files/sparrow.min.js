!function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return o(n?n:e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){!function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof n)t.exports=e();else{var r=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=r,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}return o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var f=c[d].split("="),s=f.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{var p=f[0].replace(l,decodeURIComponent);if(s=n.read?n.read(s,p):n(s,p)||s.replace(l,decodeURIComponent),this.json)try{s=JSON.parse(s)}catch(e){}if(t===p){a=s;break}t||(a[p]=s)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r(e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},{}],2:[function(e,t,n){!function(e,n,r){"undefined"!=typeof t&&t.exports?t.exports=r():"function"==typeof define&&define.amd?define(r):n[e]=r()}("qwery",this,function(){function e(e){return[].slice.call(e,0)}function t(e){var t;return e&&"object"==typeof e&&(t=e.nodeType)&&(1==t||9==t)}function n(e){return"object"==typeof e&&isFinite(e.length)}function r(e){for(var t=[],r=0,o=e.length;r<o;++r)n(e[r])?t=t.concat(e[r]):t[t.length]=e[r];return t}function o(e){var t,n,r=[];e:for(t=0;t<e.length;t++){for(n=0;n<r.length;n++)if(r[n]==e[t])continue e;r[r.length]=e[t]}return r}function i(e){return e?"string"==typeof e?a(e)[0]:!e[f]&&n(e)?e[0]:e:c}function a(o,a){var d,f=i(a);return f&&o?o===l||t(o)?!a||o!==l&&t(f)&&s(o,f)?[o]:[]:o&&n(o)?r(o):c.getElementsByClassName&&"string"==o&&(d=o.match(u))?e(f.getElementsByClassName(d[1])):o&&(o.document||o.nodeType&&9==o.nodeType)?a?[]:[o]:e(f.querySelectorAll(o)):[]}var u=/^\.([\w\-]+)$/,c=document,l=window,d=c.documentElement,f="nodeType",s="compareDocumentPosition"in d?function(e,t){return 16==(16&t.compareDocumentPosition(e))}:function(e,t){return t=t==c||t==window?d:t,t!==e&&t.contains(e)};return a.uniq=o,a},this)},{}],3:[function(e,t,n){"use strict";t.exports={origin:"cn-general",method:"GET",reloadDelay:2e4,capturedQueryParams:["mbid"],infinityID:!0,preinit:["infinityid"],grid:{granularity:100},scroll:{granularity:400},queue:{sendThreshold:0},heartbeat:{interval:5500},events:[{selector:"window",type:["pageview","timespent","scroll"]}],url:"//capture.condenastdigital.com/track"}},{}],4:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_logHelper=function(){var e=null,t={};return t.env=function(t){return t&&(e=t),e},t.track=function(t){"development"==e&&console.info("Event: ",t.c,t.t,t.v||1,t)},t.error=function(t){"development"==e&&console.error("Error: ",t)},t}(),_stringFunctionHelper=function _stringFunctionHelper(str){var inner="("+str+")",internal=null;try{var internal=eval(inner)}catch(e){_logHelper.error("Sparrow Dynamic Attribute Error: "+e)}return internal},_urlHelper=function(){return window.location.origin+window.location.pathname},_extendHelper=function(){var e=arguments,t={};if(e&&e[0])for(var n in e)for(var r in e[n])t[r]=e[n][r];return t},_TrenderHelper=function(e){var t=require("qwery"),n=arguments,r={},o={};if(n&&n[1]){delete n[0];for(var i in n)for(var a in n[i])if("function"==typeof n[i][a])r[a]=n[i][a](t,e);else if(n[i][a]&&n[i][a].indexOf&&0===n[i][a].indexOf("function")){var u=_stringFunctionHelper(n[i][a]);o[a]=u}else r[a]=n[i][a];for(var a in o)if("function"==typeof o[a])try{r[a]=o[a](e,r,t)}catch(e){}}return r},_isFunctionHelper=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},_dehydrateArrayHelper=function(e){var t={};e.forEach(function(e){for(var n in e)t[n]=t[n]||{},t[n][e]=t[n][e]?t[n][e]++:1});for(var n in t){var r=null;for(var o in t[n])r=t[n][o]>t[n][r]?o:r;t[n]=r}for(var i in e)if(e[i].type)for(var a in t)e[i][a]===t[a]&&delete e[i][a];return{common:t,events:e}},_uuidHelper=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},_pickHelper=function(e,t){var n;for(key in e)t.indexOf(key)>-1&&(n[key]=e);return n},_flattenObjectHelper=function e(t,n,r){var n=n||{},o=Object(t);for(var i in o){var a=r?[r,i].join(":"):i;"object"==_typeof(t[i])?e(t[i],n,a):t[i]&&(n[a]=t[i])}return n},_spatialGridHelper=function(e,t){return Math.round(e/t)*t},_paramsHelper=function(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},_ajaxHelper=function(e){var t=new window.XMLHttpRequest,n="in-progress",r=null,o=null,e=_extendHelper({withCredentials:!1,method:"GET"},e);return t.withCredentials=e.withCredentials,t.open(e.method,e.url),t.setRequestHeader("Accept","text/plain"),t.send(null),t.onload=function(e){n="complete",r=e,o=err},{done:function(e){"complete"!==n?(t.onload=function(t){e(t.currentTarget.response)},t.ontimeout=function(t){e(!1)},t.onerror=function(t){e(!1)}):e(r.currentTarget.response)}}};module.exports={extend:_extendHelper,exrend:_TrenderHelper,isFunction:_isFunctionHelper,dehydrate:_dehydrateArrayHelper,flatten:_flattenObjectHelper,ajax:_ajaxHelper,pick:_pickHelper,params:_paramsHelper,log:_logHelper,gridReduce:_spatialGridHelper,uuid:_uuidHelper,url:_urlHelper()}},{qwery:2}],5:[function(e,t,n){"use strict";t.exports=function(e){function t(){c=(new Date).getTime()}function n(){var e=(new Date).getTime();f=1e3*o>e-c,d+=f?e-l:0,l=e}function r(){var e=d/1e3,t=Math.round(e);return d=0,t>0&&e>0&&i+.25>=e?1e3*t:0}e=e||{};var o=e.activeTimeout||5,i=e.heartbeat||5.5,a=(new Date).getTime(),u=["focus","mousedown","mouseup","mousemove","scroll","touchstart","touchenter","keyup","keydown"],c=a,l=a,d=0,f=!1;return u.forEach(function(e){window.addEventListener(e,t,!1)}),window.setInterval(n,100),{sendHeartbeat:r}}},{}],6:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.exports=function(){var e={};try{var t=document.getElementsByTagName("meta"),n={};for(var o in t){var i=t[o].getAttribute("property")||t[o].getAttribute("name"),a=t[o].getAttribute("content");n[i]=a}e.cBr=n["og:site_name"]||"",e.cKe=n.keywords?n.keywords.toLowerCase():"",e.cCh=n.channel||n.Channel||"",e.cSch=n.subchannel||n.Subchannel||"",e.cTi=n["og:title"]||document.title||""}catch(e){}try{var u=u||window.digitalData||{};Object.keys(u).length>0&&(e.cCu=u.canonical,e.cCl=u.contentLength,e.cTy=u.pageType,e.cEn=u.environment,e.cId=u.contentID,e.cCh=u.section,e.cSch=u.subsection,e.cPd=u.publishDate||"")}catch(e){}try{var c=document.querySelector('[type="application/ld+json"]');if(c){var l=JSON.parse(c.innerHTML),d=l.author;switch("undefined"==typeof d?"undefined":r(d)){case"object":d=Array.isArray(d)?d.map(function(e){return"object"===("undefined"==typeof e?"undefined":r(e))&&e.name?e.name:e}):[d.name];break;case"string":d=d.split(",");break;case"undefined":d=""}e.cTi=l.headline,e.cPd=l.datePublished,e.cAu=d.join(",")}}catch(e){}return e}},{}],7:[function(e,t,n){"use strict";t.exports={content:e("./content"),page:e("./page"),user:e("./user")}},{"./content":6,"./page":8,"./user":9}],8:[function(e,t,n){"use strict";t.exports=function(t,n){try{var r=e("qwery"),o=e("../helpers"),i=document.createElement("a");i.href=document.referrer;var a=[window.location.protocol,"//",window.location.host,window.location.pathname].join(""),u=[i.protocol,"//",i.host,i.pathname].join("");u=a!=u?u:"direct";var c="direct"===u?"direct":"referral";location.host===i.host&&window.location.pathname!==i.pathname&&(c="internal");var l={};if(window.location.search){var d=0===window.location.search.indexOf("?")?window.location.search.substr(1):window.location.search;d=d.split("&"),d=d.forEach(function(e){var t=e.split("=");n.capturedQueryParams.indexOf(t[0])>-1&&(l[t[0]]=t[1])})}var f=null,s=[{key:"facebook",label:"facebook"},{key:"twitter",label:"twitter"},{key:"t.co/",label:"twitter"},{key:"plus.google",label:"google plus"},{key:"instagram",label:"instagram"},{key:"pinterest",label:"pinterest"},{key:"reddit",label:"reddit"},{key:"tumblr",label:"tumblr"}],p=[{key:"www.google",label:"google"},{key:"yahoo.",label:"yahoo"},{key:"bing.",label:"bing"}];s.forEach(function(e){u.indexOf(e.key)>-1&&(c="social",f=e.label)}),p.forEach(function(e){u.indexOf(e.key)>-1&&(c="search",f=e.label)});var w=function(){var e=document;return Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight)},y=function(){var e=document;return Math.max(e.body.scrollWidth,e.documentElement.scrollWidth,e.body.offsetWidth,e.documentElement.offsetWidth,e.body.clientWidth,e.documentElement.clientWidth)},v=o.extend({pHr:a,pRt:c,pRs:f,pHp:location.pathname,pRr:u,pSx:o.gridReduce(window.scrollX||window.scrollLeft||0,n.grid.granularity),pSy:o.gridReduce(window.scrollY||window.scrollLeft||0,n.grid.granularity),pWw:o.gridReduce(window.innerWidth,n.grid.granularity),pWh:o.gridReduce(window.innerHeight,n.grid.granularity),pPw:o.gridReduce(y(),n.grid.granularity),pPh:o.gridReduce(w(),n.grid.granularity),pAd:r(".displayAd").length},l);return v}catch(e){return{}}}},{"../helpers":4,qwery:2}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("js-cookie"),i=r(o),a=e("../helpers"),u=r(a);t.exports=function(e,t){try{e=e||{};var n=function(){var e=i.default.get("CN_sp");return e?(i.default.set("CN_sp",e),{uid:e,new:0}):(e=u.default.uuid(),i.default.set("CN_sp",e),{uid:e,new:1})}(),r=function(){var e=i.default.get("CN_su");return e?0:(i.default.set("CN_su",u.default.uuid(),{expires:30}),1)}(),o=function(){var e=i.default.get("pID");return e?e:(e=u.default.uuid(),i.default.set("pID",newpID),e)}();return{uID:n.uid,uNw:n.new,uUq:r,sID:i.default.get("sID"),pID:o,uMx:u.default.gridReduce(e.x||e.pageX||e.screenX||0,t.grid.granularity),uMy:u.default.gridReduce(e.y||e.pageY||e.screenX||0,t.grid.granularity)}}catch(e){return{}}}},{"../helpers":4,"js-cookie":1}],10:[function(e,t,n){"use strict";var r=e("../helpers");t.exports=function(e){var t=function(t){var n=JSON.parse(t);window._4d=window._4d||{},window._4d.context=n,e({})};r.ajax({url:"//4d.condenastdigital.com/content?url="+r.url}).done(t)}},{"../helpers":4}],11:[function(e,t,n){"use strict";t.exports={"4d":e("./4d"),infinityid:e("./infinityid")}},{"./4d":10,"./infinityid":12}],12:[function(e,t,n){"use strict";var r=e("js-cookie"),o=e("../helpers");t.exports=function(e){var t=r.get("CN_xid");t?e({xID:t}):o.ajax({url:"//infinityid.condenastdigital.com/",withCredentials:!0}).done(function(t){r.set("CN_xid",t,{expires:182}),e({xID:t})})}},{"../helpers":4,"js-cookie":1}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=0,t=window.setInterval(function(){if(window.SparrowConfig){var n=window.SparrowConfig;return window.SparrowCache.pixels.push(new Sparrow(n)),void window.clearInterval(t)}return e>f.reloadDelay?void window.clearInterval(t):void(e+=200)},200)}var i=e("js-cookie"),a=r(i),u=e("./lib/timespent"),c=r(u),l=e("./helpers"),d=r(l),f=e("./config");window.SparrowCache=window.SparrowCache||{events:[],pixels:[]},window.Sparrow=function(t){var n=(0,c.default)(),r=this,o=[],i={},u={x:0,y:0},l=function(t){if(!t)return!1;var n={_ts:(new Date).toISOString(),_t:t.type},r=e("./pipeline");for(var o in r){var a=r[o],u={};u=d.default.isFunction(a)?a(t,i):a,n=d.default.extend(n,u)}return n=d.default.exrend(t,n,i.meta,t.meta||t.options||{}),SparrowCache.event=n,n},s=function(e){var t=l(e);return t._c&&t._t?(o.push(t),d.default.log.track(t),o.length>i.queue.sendThreshold&&p(),!0):(d.default.log.error("No event campaign or type",e),!1)},p=function(){var e=function(){var e=function(e){var t=d.default.flatten(e),n=new Image,r=d.default.params(t);n.src=i.url+"?"+r,window.setTimeout(function(){n=null},1e3);var o=a.default.get("sID")||d.default.uuid();a.default.set("sID",o,{expires:.02})};o.forEach(e),o=[]};return e()},w=function(t){var n=e("qwery");t.type=t.type[0]?t.type:[t.type];var r=n(t.selector),o=function(e,n){t.type.forEach(function(e){var r=d.default.extend(t,{element:n||null,type:e});return!v(i,r)&&void(g[e]?g[e](r):n&&n.addEventListener(e,function(e){s(r)},!1))})};r.length>0?r.forEach(function(e){o(t,e)}):o(t)},y={scroll:function(e){var t=i.scroll.granularity||100,n={x:window.scrollX||window.scrollLeft||0,y:window.scrollY||window.scrollTop||0};(Math.abs(u.x-n.x)>t||Math.abs(u.y-n.y)>t)&&(e.meta=d.default.extend(e.meta||{},{_v:Math.round(n.y/i.scroll.granularity)*i.scroll.granularity}),s(e),u=n)},pageview:function(e){s(e),p()}},v=function(e,t){var n=e.origin+"/"+t.selector+"/"+t.type;return window.SparrowCache.events.indexOf(n)>-1&&!t.noCache||(window.SparrowCache.events.push(n),!1)},g={scroll:function(e){window.addEventListener("scroll",function(){y.scroll(e)},!1)},pageview:y.pageview,timespent:function(e){window.setInterval(function(){var t=n.sendHeartbeat();t>0&&(e.meta=d.default.extend(e.meta||{},{_v:t}),s(e),p())},i.heartbeat.interval)}},h=function(e){e=e||{},e.meta=e.meta||{},e.meta._o=e.meta._o||e.origin||f.origin,e.meta._c=e.meta._c||e.campaign||f.campaign||"general",i=d.default.extend(f,e||{}),d.default.log.env(i.env)},m=function(t){var n=this,r=0,o=0;h(t);var u=a.default.get("sID")||d.default.uuid();a.default.set("sID",u,{expires:.02}),a.default.set("pID",d.default.uuid()),i.preinit&&i.preinit.forEach(function(t){r++;var o=e("./preinit"),a=o[t].bind(n),u=function(e){r--,i.meta=d.default.extend(i.meta,e)};a(u)});var c=window.setInterval(function(){return o>10&&window.clearInterval(c),0!==r?void o++:(t.events&&t.events.length>0&&i&&i.events&&i.events.forEach(function(e){w(e)}),void window.clearInterval(c))},100)},x=function(){return t};return r.init=m,r.config=h,r.bind=w,r.create=l,r.options=x,r.track=function(e,t,n){var r={type:t,meta:d.default.extend({_c:e},n)};s(r)},m(t),r},o(),t.exports=Sparrow},{"./config":3,"./helpers":4,"./lib/timespent":5,"./pipeline":7,"./preinit":11,"js-cookie":1,qwery:2}]},{},[13]);
